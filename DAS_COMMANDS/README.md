------------------
DAS_COMMANDS : Code for running the command line DAS client 
------------------

For the Davis Crab jobs we need :

  Data_Set_Name
  Total_Events
  Total_Lumis
  Max_Lumi

to be added in SampleMetaData_cfi.py for each Data_Set_Name


to get this have written a small wrapper function which invokes das_client.py

Example : 

The following command produces the info you need
(nevents, nlumis, and the max lumi is the last y in the list of [x,y] printed to the screen)



./get_DAS_info.py /DY4JetsToLL_M-50_TuneCUETP8M1_13TeV-madgraphMLM-pythia8/RunIISpring16MiniAODv2-PUSpring16_80X_mcRun2_asymptotic_2016_miniAODv2_v0-v1/MINIAODSIM

Produces :

Showing 1-10 out of 1 results, for more results use --idx/--limit options

nfiles   : 94
nevents  : 4101383
nblocks  : 6
nlumis   : 30162
file_size: 133849728262


{"status": "ok", "mongo_query": {"fields": ["run", "lumi", "das_id", "cache_id", "das", "qhash", "error", "reason"], "qcache": 0, "spec": {"dataset.name": "/DY4JetsToLL_M-50_TuneCUETP8M1_13TeV-madgraphMLM-pythia8/RunIISpring16MiniAODv2-PUSpring16_80X_mcRun2_asymptotic_2016_miniAODv2_v0-v1/MINIAODSIM"}, "instance": "prod/global"}, "ctime": 0.0454359054565, "nresults": 1, "timestamp": 1481408045.26, "incache": true, "data": [{"das_id": ["584c79a2f4e31324e36224f9"], "run": [{"run_number": 1}], "lumi": [{"number": [[1, 116], [119, 138], [141, 174], [177, 210], [213, 304], [307, 314], [317, 350], [353, 368], [371, 372], [375, 394], [399, 430], [435, 442], [445, 448], [451, 454], [457, 480], [483, 500], [505, 512], [515, 540], [543, 680], [683, 768], [771, 798], [801, 826], [831, 896], [899, 904], [907, 922], [927, 990], [995, 1000], [1005, 1022], [1025, 1152], [1155, 1164], [1167, 1168], [1171, 1214], [1217, 1236], [1239, 1254], [1257, 1344], [1347, 1362], [1365, 1380], [1383, 1392], [1395, 1398], [1401, 1402], [1404, 1534], [1537, 1540], [1543, 1610], [1612, 1694], [1697, 1802], [1805, 1806], [1809, 1840], [1843, 1860], [1863, 1952], [1955, 1978], [1983, 1986], [1993, 1996], [2001, 2018], [2021, 2102], [2105, 2128], [2131, 2144], [2147, 2152], [2155, 2202], [2205, 2248], [2251, 2266], [2269, 2328], [2333, 2336], [2339, 2352], [2355, 2358], [2361, 2450], [2453, 2594], [2597, 2626], [2631, 2634], [2637, 2638], [2641, 2698], [2703, 2720], [2723, 2738], [2741, 2860], [2863, 2934], [2937, 2956], [2959, 2966], [2969, 2976], [2979, 3144], [3147, 3148], [3151, 3196], [3199, 3262], [3265, 3348], [3351, 3352], [3357, 3382], [3385, 3398], [3401, 3486], [3489, 3510], [3513, 3530], [3533, 3534], [3537, 3564], [3567, 3608], [3611, 3626], [3629, 3660], [3663, 3704], [3707, 3766], [3769, 3778], [3781, 3786], [3789, 4006], [4009, 4092], [4095, 4106], [4109, 4128], [4131, 4194], [4201, 4230], [4233, 4328], [4331, 4394], [4397, 4398], [4403, 4404], [4407, 4548], [4551, 4582], [4585, 4628], [4631, 4634], [4637, 4676], [4679, 4690], [4693, 4694], [4697, 4702], [4705, 4710], [4713, 4744], [4747, 4764], [4767, 4770], [4775, 4796], [4799, 4800], [4803, 4808], [4811, 4846], [4849, 4856], [4859, 4866], [4869, 4904], [4909, 4946], [4949, 4952], [4957, 4976], [4983, 5008], [5013, 5016], [5019, 5108], [5110, 5212], [5215, 5278], [5283, 5302], [5307, 5326], [5329, 5330], [5335, 5356], [5359, 5368], [5371, 5386], [5389, 5410], [5413, 5416], [5419, 5420], [5423, 5494], [5497, 5674], [5677, 5694], [5697, 5698], [5703, 5704], [5709, 5710], [5713, 5722], [5733, 5734], [5737, 5742], [5745, 5746], [5751, 5754], [5757, 5768], [5771, 5772], [5779, 5780], [5799, 5864], [5867, 5876], [5881, 5892], [5894, 5898], [5901, 5922], [5924, 5936], [5939, 5966], [5969, 5992], [5995, 6010], [6013, 6016], [6019, 6026], [6028, 6098], [6101, 6144], [6147, 6272], [6276, 6284], [6286, 6332], [6337, 6512], [6515, 6542], [6544, 6550], [6553, 6578], [6581, 6604], [6607, 6634], [6637, 6732], [6735, 6748], [6751, 6992], [6995, 7004], [7007, 7076], [7081, 7120], [7125, 7140], [7142, 7212], [7215, 7218], [7221, 7268], [7271, 7444], [7447, 7612], [7615, 7636], [7639, 7672], [7674, 7804], [7807, 7930], [7933, 7940], [7943, 8026], [8029, 8040], [8043, 8082], [8085, 8088], [8091, 8266], [8269, 8278], [8281, 8283], [8289, 8410], [8413, 8442], [8445, 8456], [8461, 8474], [8480, 8480], [8483, 8608], [8611, 8770], [8773, 8804], [8807, 8946], [8957, 8964], [8967, 8968], [8971, 8976], [8979, 9044], [9049, 9056], [9061, 9151], [9153, 9284], [9289, 9300], [9303, 9303], [9305, 9454], [9456, 9505], [9509, 9518], [9521, 9616], [9627, 9628], [9631, 9642], [9645, 9838], [9841, 9844], [9847, 9850], [9853, 9854], [9857, 9868], [9877, 9890], [9894, 9922], [9927, 9936], [9939, 10186], [10191, 10260], [10263, 10352], [10357, 10398], [10401, 10470], [10475, 10514], [10517, 10584], [10587, 10588], [10593, 10600], [10603, 10608], [10611, 10656], [10659, 10680], [10683, 10734], [10737, 10762], [10765, 10798], [10801, 10874], [10877, 10900], [10903, 10908], [10911, 10918], [10921, 10942], [10945, 10965], [10967, 11036], [11039, 11054], [11057, 11066], [11069, 11100], [11103, 11188], [11191, 11222], [11225, 11500], [11503, 11562], [11565, 11572], [11575, 11630], [11635, 11640], [11643, 11662], [11665, 11720], [11725, 11796], [11799, 11800], [11803, 11812], [11815, 11832], [11835, 11882], [11885, 12004], [12007, 12024], [12029, 12110], [12113, 12228], [12231, 12262], [12265, 12272], [12279, 12280], [12283, 12310], [12315, 12320], [12323, 12356], [12359, 12376], [12379, 12380], [12395, 12410], [12412, 12416], [12419, 12422], [12425, 12442], [12445, 12570], [12573, 12732], [12735, 12878], [12881, 12886], [12891, 13008], [13011, 13171], [13173, 13184], [13187, 13207], [13209, 13234], [13237, 13400], [13403, 13420], [13423, 13530], [13535, 13554], [13557, 13614], [13617, 13622], [13625, 13630], [13633, 13666], [13669, 13676], [13679, 13964], [13967, 14054], [14057, 14192], [14195, 14272], [14275, 14284], [14287, 14288], [14291, 14298], [14301, 14320], [14323, 14463], [14465, 14518], [14521, 14528], [14530, 14538], [14541, 14542], [14545, 14568], [14573, 14579], [14581, 14582], [14586, 14768], [14771, 14804], [14807, 14812], [14815, 14820], [14823, 14831], [14833, 14838], [14841, 14850], [14853, 14854], [14857, 14866], [14869, 14870], [14875, 14976], [14979, 14980], [14983, 14984], [14987, 14994], [14996, 15066], [15071, 15100], [15103, 15108], [15111, 15112], [15114, 15218], [15221, 15284], [15287, 15306], [15309, 15314], [15317, 15318], [15323, 15330], [15337, 15338], [15361, 15362], [15369, 15392], [15397, 15400], [15403, 15484], [15487, 15494], [15497, 15534], [15537, 15550], [15553, 15558], [15561, 15604], [15607, 15702], [15707, 15731], [15733, 15734], [15737, 15751], [15753, 15802], [15805, 15858], [15861, 15894], [15897, 16178], [16181, 16188], [16191, 16244], [16247, 16284], [16286, 16304], [16307, 16330], [16333, 16348], [16351, 16382], [16385, 16450], [16455, 16496], [16501, 16540], [16543, 16594], [16597, 16629], [16631, 16634], [16637, 16826], [16829, 16844], [16847, 16920], [16923, 17016], [17019, 17022], [17025, 17126], [17129, 17132], [17134, 17238], [17241, 17274], [17277, 17282], [17285, 17342], [17345, 17382], [17385, 17418], [17421, 17422], [17425, 17426], [17431, 17434], [17437, 17476], [17481, 17493], [17495, 17570], [17573, 17658], [17661, 17670], [17675, 17710], [17713, 17946], [17949, 18010], [18013, 18028], [18031, 18072], [18075, 18080], [18083, 18118], [18121, 18134], [18140, 18172], [18175, 18194], [18197, 18274], [18277, 18279], [18281, 18286], [18288, 18348], [18351, 18358], [18361, 18362], [18366, 18376], [18379, 18652], [18655, 18780], [18783, 18851], [18855, 18864], [18867, 18884], [18887, 18908], [18911, 19042], [19045, 19078], [19081, 19090], [19093, 19096], [19099, 19165], [19167, 19180], [19183, 19270], [19281, 19322], [19325, 19340], [19343, 19350], [19353, 19807], [19813, 19974], [19977, 19978], [19981, 19982], [19985, 20062], [20065, 20216], [20219, 20236], [20239, 20246], [20249, 20254], [20257, 20518], [20521, 20687], [20689, 20690], [20693, 20776], [20779, 20866], [20869, 20930], [20933, 20934], [20937, 20940], [20955, 20956], [20959, 20960], [20979, 20980], [20987, 20998], [21001, 21026], [21029, 21234], [21237, 21362], [21365, 21368], [21371, 21388], [21391, 21476], [21479, 21484], [21487, 21510], [21514, 21546], [21549, 21550], [21553, 21558], [21561, 21662], [21667, 21756], [21761, 21784], [21787, 21788], [21793, 21798], [21803, 21804], [21809, 21810], [21813, 21818], [21821, 21824], [21831, 21832], [21835, 21836], [21847, 21886], [21891, 22058], [22061, 22134], [22137, 22322], [22325, 22328], [22331, 22458], [22461, 22494], [22497, 22550], [22553, 22602], [22605, 22902], [22904, 22966], [22971, 22982], [22985, 22986], [22989, 22990], [22995, 23070], [23079, 23150], [23153, 23210], [23213, 23226], [23229, 23340], [23343, 23348], [23355, 23374], [23377, 23414], [23433, 23434], [23437, 23438], [23441, 23450], [23465, 23500], [23503, 23504], [23509, 23617], [23619, 23620], [23623, 23628], [23635, 23666], [23669, 23700], [23703, 23750], [23753, 23766], [23770, 23776], [23779, 23788], [23791, 23840], [23843, 24070], [24073, 24082], [24084, 24190], [24197, 24234], [24237, 24242], [24247, 24254], [24265, 24308], [24313, 24318], [24321, 24764], [24767, 24854], [24856, 25010], [25013, 25034], [25039, 25140], [25143, 25352], [25355, 25500], [25503, 25537], [25539, 25564], [25569, 25574], [25577, 25672], [25675, 25764], [25767, 25770], [25773, 25822], [25825, 25848], [25853, 25944], [25947, 26028], [26031, 26072], [26079, 26116], [26119, 26120], [26123, 26126], [26129, 26180], [26191, 26312], [26315, 26350], [26353, 26380], [26383, 26386], [26391, 26410], [26413, 26496], [26499, 26538], [26541, 26674], [26679, 26772], [26775, 26806], [26809, 27000], [27011, 27040], [27049, 27068], [27073, 27074], [27077, 27078], [27083, 27094], [27097, 27118], [27125, 27126], [27129, 27138], [27141, 27142], [27145, 27146], [27149, 27152], [27167, 27176], [27183, 27244], [27247, 27252], [27255, 27272], [27275, 27276], [27279, 27280], [27287, 27320], [27326, 27328], [27330, 27358], [27363, 27380], [27385, 27542], [27545, 27628], [27631, 27876], [27879, 27908], [27913, 27932], [27935, 27938], [27941, 27980], [27983, 28024], [28027, 28082], [28085, 28322], [28325, 28326], [28329, 28336], [28339, 28486], [28489, 28508], [28511, 28536], [28539, 28556], [28559, 28604], [28607, 28649], [28651, 28706], [28709, 28888], [28891, 28896], [28899, 28924], [28927, 28932], [28935, 28936], [28939, 28952], [28955, 29080], [29085, 29088], [29097, 29100], [29103, 29160], [29165, 29170], [29177, 29226], [29229, 29314], [29317, 29388], [29391, 29392], [29395, 29406], [29409, 29412], [29415, 29436], [29439, 29448], [29450, 29502], [29505, 29524], [29529, 29540], [29543, 29608], [29611, 29640], [29643, 29677], [29681, 29704], [29707, 29876], [29879, 30076], [30079, 30188], [30193, 30198], [30200, 30312], [30317, 30330], [30333, 30374], [30379, 30716], [30719, 30722], [30725, 30772], [30775, 30930], [30933, 30951], [30953, 30990], [30995, 31004], [31009, 31096], [31107, 31202], [31205, 31218], [31221, 31292], [31295, 31318], [31321, 31362], [31365, 31366], [31369, 31392], [31395, 31400], [31404, 31404], [31409, 31426], [31429, 31476], [31479, 31480], [31485, 31488], [31495, 31496], [31498, 31524], [31527, 31578], [31581, 31594], [31597, 31708], [31723, 31796], [31799, 31800], [31805, 31838], [31841, 31848], [31851, 31852], [31855, 31862], [31865, 31929]]}], "cache_id": ["584c79a4f4e31324e36224fb"], "das": {"primary_key": "run.run_number", "record": 1, "condition_keys": ["dataset.name"], "ts": 1481408044.363952, "system": ["dbs3"], "instance": "prod/global", "api": ["run_lumi4dataset"], "expire": 1481408164, "services": [{"dbs3": ["dbs3"]}]}, "qhash": "209f9f5dcd0316acdf6060a232fce953", "_id": "584c7e2cf4e31324e3691406"}], "apilist": ["das_core", "run_lumi4dataset"]}
